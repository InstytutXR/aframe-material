{"version":3,"sources":["webpack:///webpack/bootstrap 350062712e0d9aec1489","webpack:///./src/index.js","webpack:///./~/aframe-rounded/dist/aframe-rounded-component.min.js","webpack:///./src/fade/index.js","webpack:///./src/core/event.js","webpack:///./src/keyboard/index.js","webpack:///./src/utils.js","webpack:///./src/keyboard/draw.js","webpack:///./src/keyboard/layouts.js","webpack:///./src/keyboard/config.js","webpack:///./src/keyboard/behaviors.js","webpack:///./src/keyboard/assets.js","webpack:///./src/keyboard/sfx.js","webpack:///./src/input/index.js","webpack:///./src/switch/index.js","webpack:///./src/switch/assets.js","webpack:///./src/switch/sfx.js","webpack:///./src/form/index.js","webpack:///./src/radio/index.js","webpack:///./src/radio/assets.js","webpack:///./src/radio/sfx.js","webpack:///./src/checkbox/index.js","webpack:///./src/checkbox/assets.js","webpack:///./src/checkbox/sfx.js","webpack:///./src/button/index.js","webpack:///./src/theme.js","webpack:///./src/button/assets.js","webpack:///./src/button/sfx.js","webpack:///./src/icon-button/index.js","webpack:///./src/icon-button/config.js","webpack:///./src/icon-button/assets.js","webpack:///./src/icon-button/sfx.js","webpack:///./src/circle-button/index.js","webpack:///./src/circle-button/config.js","webpack:///./src/circle-button/assets.js","webpack:///./src/circle-button/sfx.js","webpack:///./src/toast/index.js","webpack:///./src/toast/assets.js","webpack:///./src/toast/sfx.js","webpack:///./src/card/index.js","webpack:///./src/card/assets.js"],"names":["AFRAME","console","error","ASSETS_PATH","require","Event","opacityUpdate","opacity","el","object3D","traverse","o","material","transparent","textEntities","text","setAttribute","registerComponent","schema","duration","type","default","init","querySelectorAll","start","tick","t","Math","min","data","removeAttribute","emit","module","exports","name","dispatchEvent","CustomEvent","detail","Utils","Draw","Behaviors","SFX","Assets","Config","isOpen","physicalKeyboard","currentInput","that","preloadAssets","numericalUI","mainAlphaUI","mainUI","mainSymbolUI","actionsUI","appendChild","numericalLayout","alphabeticalLayout","symbolsLayout","actionsLayout","show","showKeyboard","hide","hideKeyboard","open","openKeyboard","dismiss","dismissKeyboard","destroy","destroyKeyboard","addEventListener","inputEvent","bind","backspaceEvent","dismissEvent","document","keydownEvent","body","didFocusInputEvent","didBlurInputEvent","update","remove","removeEventListener","pause","play","e","appendString","deleteLast","blur","preventDefault","stopPropagation","key","length","registerPrimitive","defaultComponents","keyboard","mappings","wrapper","createElement","outline","KEYBOARD_COLOR","keypad","assets_arr","assets","querySelector","already_exists","scene","item","Array","from","children","stuff","id","asset_item","src","extend","a","b","hasOwnProperty","clone","original","isArray","slice","Object","create","getPrototypeOf","i","undefined","keys","getOwnPropertyNames","defineProperty","getOwnPropertyDescriptor","updateOpacity","hasAttribute","props","getAttribute","getWidthFactor","wrapCount","widthFactor","components","currentFont","Layouts","numerical","index_y","key_id","value","index_x","x","KEY_WIDTH","y","alphabetical","prev_was_space","SPACE_KEY_WIDTH","symbols","actions","val_y","ACTION_WIDTH","addKeyEvents","shadow_el","letter_el","SPACE_KEY_HEIGHT","icon_el","shiftKey","circle_el","KEY_COLOR_HIGHLIGHT","KEY_COLOR_ACTIVE","SPACEBAR_COLOR_ACTIVE","SPACEBAR_COLOR_HIGHLIGHT","o_position","position","copy","child","parent","parentNode","sceneEl","THREE","Vector3","removeChild","_transitioning","animationend","setTimeout","MouseEvent","keyClick","keyDown","keyOut","keyIn","keyEl","isShiftEnabled","toUpperCase","shiftToggle","symbolsToggle","z","aframeKeyboardShiftActive","aframeKeyboardShift","key_type","startsWith","textEl","toLowerCase","isSymbols","set","sound","stopSound","playSound","disabled","color","align","font","letterSpacing","lineHeight","side","tabSize","placeholder","placeholderColor","maxLength","width","cursorWidth","cursorHeight","cursorColor","backgroundColor","backgroundOpacity","background","cursor","focus","blink","input","get","enumerable","configurable","isFocused","clearInterval","cursorInterval","setInterval","noemit","str","updateText","padding","left","right","attr","cursorTimer","clearTimeout","substring","repeat","getTextWidth","trimFirst","_widthFactor","v","geometry","visibleGlyphs","line","substr","textRatio","placeholder_props","updateCursor","enabled","fillColor","knobColor","fillColorEnabled","knobColorEnabled","fillColorDisabled","knobColorDisabled","fill","knob","switch","clickDisabled","click","on","off","disable","form","checked","label","radioColor","radioColorChecked","hitbox","circle","radio","onClick","nearestForm","closest","didCheck","reverse","check","uncheck","timer","checkboxColor","checkboxColorChecked","inside","checkmark","checkbox","THEME","buttonColor","height","shadow","button","getWidth","__width","callback","primary","primaryVariant","secondary","secondaryVariant","backgroundd","surface","onPrimary","onSecondary","onBackground","onSurface","onError","Theme","iconScale","icon","iconbutton","radius","circlebutton","message","action","actionColor","autoshow","changeWidth","hideTimer","scale","toast","shift","card","append"],"mappings":"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","file":"aframe-material.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 350062712e0d9aec1489","(() => {\n  if (!AFRAME) {\n    return console.error('AFRAME is required!');\n  }\n  if (!AFRAME.ASSETS_PATH) {\n    AFRAME.ASSETS_PATH = \"./assets\";\n  }\n  require('aframe-rounded');\n  require(\"./fade\");\n  //require(\"./alert\"); @TODO ;)\n  require(\"./keyboard\");\n  require(\"./input\");\n  require(\"./switch\");\n  require(\"./form\");\n  require(\"./radio\");\n  require(\"./checkbox\");\n  require(\"./button\");\n  require(\"./icon-button\");\n  require(\"./circle-button\");\n  require(\"./toast\");\n  require(\"./card\");\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","!function(t){function e(i){if(a[i])return a[i].exports;var d=a[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var a={};return e.m=t,e.c=a,e.p=\"\",e(0)}([function(t,e){AFRAME.registerComponent(\"rounded\",{schema:{enabled:{default:!0},width:{type:\"number\",default:1},height:{type:\"number\",default:1},radius:{type:\"number\",default:.3},topLeftRadius:{type:\"number\",default:-1},topRightRadius:{type:\"number\",default:-1},bottomLeftRadius:{type:\"number\",default:-1},bottomRightRadius:{type:\"number\",default:-1},color:{type:\"color\",default:\"#F0F0F0\"},opacity:{type:\"number\",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D(\"mesh\",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,a,i,d,o,u,r,s){o||(o=1e-5),u||(u=1e-5),r||(r=1e-5),s||(s=1e-5),t.moveTo(e,a+o),t.lineTo(e,a+d-o),t.quadraticCurveTo(e,a+d,e+o,a+d),t.lineTo(e+i-u,a+d),t.quadraticCurveTo(e+i,a+d,e+i,a+d-u),t.lineTo(e+i,a+s),t.quadraticCurveTo(e+i,a,e+i-s,a),t.lineTo(e+r,a),t.quadraticCurveTo(e,a,e,a+r)}var e=new THREE.Shape,a=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(a[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(a[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(a[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(a[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,a[0],a[1],a[2],a[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive(\"a-rounded\",{defaultComponents:{rounded:{}},mappings:{enabled:\"rounded.enabled\",width:\"rounded.width\",height:\"rounded.height\",radius:\"rounded.radius\",\"top-left-radius\":\"rounded.topLeftRadius\",\"top-right-radius\":\"rounded.topRightRadius\",\"bottom-left-radius\":\"rounded.bottomLeftRadius\",\"bottom-right-radius\":\"rounded.bottomRightRadius\",color:\"rounded.color\",opacity:\"rounded.opacity\"}})}]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe-rounded/dist/aframe-rounded-component.min.js\n// module id = 2\n// module chunks = 0","const Event = require('../core/event');\n\nvar opacityUpdate = function(opacity) {\n  this.el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of this.textEntities) {\n    text.setAttribute('opacity', opacity);\n  }\n}\n\n// -----------------------------------------------------------------------------\n// FADEIN\n\nAFRAME.registerComponent('fadein', {\n  schema: {\n    duration: { type: 'int', default: 200 },\n  },\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(0);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 1) {\n      this.el.removeAttribute('fadein');\n      Event.emit(this.el, 'animationend');\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// FADEOUT\n\nAFRAME.registerComponent('fadeout', {\n  schema: {\n    duration: { type: 'int', default: 200 }\n  },\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(1);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = 1-Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 0) {\n      this.el.removeAttribute('fadeout');\n      Event.emit(this.el, 'animationend');\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// SHOW\n\nAFRAME.registerComponent('show', {\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(1);\n    this.el.removeAttribute('show');\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// HIDE\n\nAFRAME.registerComponent('hide', {\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(0);\n    this.el.removeAttribute('hide');\n  },\n  opacityUpdate: opacityUpdate\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/fade/index.js","module.exports = {\n  emit: (el, name, data)=> {\n    el.dispatchEvent( new CustomEvent(name, {detail: data}) );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/event.js","const Utils = require('../utils');\nconst Draw = require('./draw');\nconst Behaviors = require('./behaviors');\nconst SFX = require('./sfx');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst Config = require('./config');\n\nAFRAME.registerComponent('keyboard', {\n  schema: {\n    isOpen: {\n      type: \"boolean\",\n      default: false\n    },\n    physicalKeyboard: {\n      type: \"boolean\",\n      default: false\n    }\n  },\n  currentInput: null,\n  init: function () {\n    let that = this;\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // Draw\n    Draw.init(this.el);\n\n    // Init keyboard UI\n    let numericalUI = Draw.numericalUI(),\n      mainAlphaUI = Draw.mainUI(),\n      mainSymbolUI = Draw.mainUI(),\n      actionsUI = Draw.actionsUI();\n\n    // Create layout\n\n    // this.el.alphabeticalLayout = Draw.alphabeticalLayout();\n    // this.el.symbolsLayout = Draw.symbolsLayout();\n    mainAlphaUI.setAttribute(\"position\", \"0.312 0 0\");\n    mainSymbolUI.setAttribute(\"position\", \"-10000 -10000 -10000\");\n\n    // Append layouts to UI\n    numericalUI.appendChild(Draw.numericalLayout());\n    mainAlphaUI.appendChild(Draw.alphabeticalLayout());\n    mainSymbolUI.appendChild(Draw.symbolsLayout());\n    actionsUI.appendChild(Draw.actionsLayout());\n\n    this.el.appendChild(numericalUI);\n    this.el.appendChild(mainAlphaUI);\n    this.el.appendChild(mainSymbolUI);\n    this.el.appendChild(actionsUI);\n\n    this.el.mainAlphaUI = mainAlphaUI;\n    this.el.mainSymbolUI = mainSymbolUI;\n\n    // Inject methods in elements..\n    this.el.show = function () {\n      Behaviors.showKeyboard(that.el);\n    }\n    this.el.hide = function () {\n      Behaviors.hideKeyboard(that.el);\n    }\n    this.el.open = function () {\n      Behaviors.openKeyboard(that.el);\n    }\n    this.el.dismiss = function () {\n      Behaviors.dismissKeyboard(that.el);\n    }\n    this.el.destroy = function () {\n      Behaviors.destroyKeyboard(that.el);\n    }\n\n    // Set default value\n    this.el.setAttribute(\"scale\", \"2 2 2\");\n    this.el.setAttribute(\"rotation\", \"-20 0 0\");\n    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\n\n    // Register keyboard events\n    this.el.addEventListener('input', this.inputEvent.bind(this));\n    this.el.addEventListener('backspace', this.backspaceEvent.bind(this));\n    this.el.addEventListener('dismiss', this.dismissEvent.bind(this));\n\n    // Register global events\n    document.addEventListener('keydown', this.keydownEvent.bind(this));\n    document.body.addEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n    document.body.addEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n  },\n  update: function () {\n    if (this.data.isOpen) {\n      Behaviors.showKeyboard(this.el);\n    } else {\n      Behaviors.hideKeyboard(this.el);\n    }\n  },\n  tick: function () {},\n  remove: function () {\n    this.el.removeEventListener('input', this.inputEvent.bind(this));\n    this.el.removeEventListener('backspace', this.backspaceEvent.bind(this));\n    this.el.removeEventListener('dismiss', this.dismissEvent.bind(this));\n\n    document.removeEventListener('keydown', this.keydownEvent.bind(this));\n    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n    document.body.removeEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n  },\n  pause: function () {},\n  play: function () {},\n\n  // Fired on keyboard key press\n  inputEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.appendString(e.detail);\n    }\n  },\n\n  // Fired on backspace key press\n  backspaceEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.deleteLast();\n    }\n  },\n\n  dismissEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.blur();\n    }\n  },\n\n  // physical keyboard event\n  keydownEvent: function (e) {\n    if (this.currentInput && this.data.physicalKeyboard) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (e.key === 'Enter') {\n        Event.emit(Behaviors.el, 'input', '\\n');\n        Event.emit(Behaviors.el, 'enter', '\\n');\n      } else if (e.key === 'Backspace') {\n        Event.emit(Behaviors.el, 'backspace');\n      } else if (e.key === 'Escape') {\n        Event.emit(Behaviors.el, 'dismiss');\n      } else if (e.key.length < 2) {\n        Event.emit(Behaviors.el, 'input', e.key);\n      }\n    }\n  },\n\n  // Fired when an input has been selected\n  didFocusInputEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.blur(true);\n    }\n    this.currentInput = e.detail;\n    if (!this.el.isOpen) {\n      Behaviors.openKeyboard(this.el);\n    }\n  },\n\n  // Fired when an input has been deselected\n  didBlurInputEvent: function (e) {\n    this.currentInput = null;\n    Behaviors.dismissKeyboard(this.el);\n  }\n});\n\nAFRAME.registerPrimitive('a-keyboard', {\n  defaultComponents: {\n    keyboard: {}\n  },\n  mappings: {\n    'is-open': 'keyboard.isOpen',\n    'physical-keyboard': 'keyboard.physicalKeyboard',\n  }\n});\n\nAFRAME.registerComponent('keypad', {\n  schema: {\n    isOpen: {\n      type: \"boolean\",\n      default: false\n    },\n    physicalKeyboard: {\n      type: \"boolean\",\n      default: false\n    }\n  },\n  currentInput: null,\n  init: function () {\n    let that = this;\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // Draw\n    Draw.init(this.el);\n\n    // Init keyboard UI\n    var wrapper = document.createElement('a-entity');\n    wrapper.setAttribute('data-ui', true);\n    this.el.appendChild(wrapper);\n\n    var outline = document.createElement('a-rounded');\n    outline.setAttribute('width', '0.280');\n    outline.setAttribute('height', '0.360');\n    outline.setAttribute('radius', '0.02');\n    outline.setAttribute('color', Config.KEYBOARD_COLOR);\n    wrapper.appendChild(outline);\n\n    // Append layouts to UI\n    wrapper.appendChild(Draw.numericalLayout());\n\n    // Inject methods in elements..\n    this.el.show = function () {\n      Behaviors.showKeyboard(that.el);\n    }\n    this.el.hide = function () {\n      Behaviors.hideKeyboard(that.el);\n    }\n    this.el.open = function () {\n      Behaviors.openKeyboard(that.el);\n    }\n    this.el.dismiss = function () {\n      Behaviors.dismissKeyboard(that.el);\n    }\n    this.el.destroy = function () {\n      Behaviors.destroyKeyboard(that.el);\n    }\n\n    // Register keyboard events\n    this.el.addEventListener('input', this.inputEvent.bind(this));\n    this.el.addEventListener('backspace', this.backspaceEvent.bind(this));\n    this.el.addEventListener('dismiss', this.dismissEvent.bind(this));\n\n    // Register global events\n    document.addEventListener('keydown', this.keydownEvent.bind(this));\n    document.body.addEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n    document.body.addEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n  },\n  update: function () {\n    if (this.data.isOpen) {\n      Behaviors.showKeyboard(this.el);\n    } else {\n      Behaviors.hideKeyboard(this.el);\n    }\n  },\n  tick: function () {},\n  remove: function () {\n    this.el.removeEventListener('input', this.inputEvent.bind(this));\n    this.el.removeEventListener('backspace', this.backspaceEvent.bind(this));\n    this.el.removeEventListener('dismiss', this.dismissEvent.bind(this));\n\n    document.removeEventListener('keydown', this.keydownEvent.bind(this));\n    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n    document.body.removeEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n  },\n  pause: function () {},\n  play: function () {},\n\n  // Fired on keyboard key press\n  inputEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.appendString(e.detail);\n    }\n  },\n\n  // Fired on backspace key press\n  backspaceEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.deleteLast();\n    }\n  },\n\n  dismissEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.blur();\n    }\n  },\n\n  // physical keyboard event\n  keydownEvent: function (e) {\n    if (this.currentInput && this.data.physicalKeyboard) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (e.key === 'Enter') {\n        Event.emit(Behaviors.el, 'input', '\\n');\n        Event.emit(Behaviors.el, 'enter', '\\n');\n      } else if (e.key === 'Backspace') {\n        Event.emit(Behaviors.el, 'backspace');\n      } else if (e.key === 'Escape') {\n        Event.emit(Behaviors.el, 'dismiss');\n      } else if (e.key.length < 2) {\n        Event.emit(Behaviors.el, 'input', e.key);\n      }\n    }\n  },\n\n  // Fired when an input has been selected\n  didFocusInputEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.blur(true);\n    }\n    this.currentInput = e.detail;\n    if (!this.el.isOpen) {\n      Behaviors.openKeyboard(this.el);\n    }\n  },\n\n  // Fired when an input has been deselected\n  didBlurInputEvent: function (e) {\n    this.currentInput = null;\n    Behaviors.dismissKeyboard(this.el);\n  }\n});\n\nAFRAME.registerPrimitive('a-keypad', {\n  defaultComponents: {\n    keypad: {}\n  },\n  mappings: {\n    'is-open': 'keypad.isOpen',\n    'physical-keyboard': 'keypadphysicalKeyboard',\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/index.js","const Utils = {};\n\n/**\n  Utils.preloadAssets([])\n  Add assets to Assets managment system.\n*/\nUtils.preloadAssets = (assets_arr) => {\n  let assets = document.querySelector('a-assets'),\n    already_exists;\n\n  if (!assets) {\n    var scene = document.querySelector('a-scene');\n    assets = document.createElement('a-assets');\n    scene.appendChild(assets);\n  }\n\n  for (let item of assets_arr) {\n    already_exists = false;\n\n    /***** With Edge, assets.children is a HTMLCollection, not an Array! *****/\n    for (let stuff of Array.from(assets.children)) {\n      if (item.id === stuff.id) {\n        already_exists = true;\n      }\n    }\n\n    if (!already_exists) {\n      var asset_item = document.createElement(item.type);\n      asset_item.setAttribute('id', item.id);\n      asset_item.setAttribute('src', item.src);\n      assets.appendChild(asset_item);\n    }\n  }\n}\n\n\n/**\n  Utils.extend(a, b)\n  Assign object to other object.\n*/\nUtils.extend = function (a, b) {\n  for (let key in b) {\n    if (b.hasOwnProperty(key)) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n\n\nUtils.clone = function (original) {\n  if (Array.isArray(original)) {\n    return original.slice(0);\n  }\n\n  // First create an empty object with\n  // same prototype of our original source\n  const clone = Object.create(Object.getPrototypeOf(original));\n  let i = undefined;\n  const keys = Object.getOwnPropertyNames(original);\n  i = 0;\n  while (i < keys.length) {\n    // copy each property into the clone\n    Object.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n    i++;\n  }\n  return clone;\n};\n\n\nUtils.updateOpacity = function (el, opacity) {\n  if (el.hasAttribute('text')) {\n    let props = el.getAttribute('text');\n    if (props) {\n      props.opacity = opacity;\n      el.setAttribute('text', props);\n    }\n  }\n  el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of el.querySelectorAll('a-text')) {\n    text.setAttribute('opacity', opacity);\n  }\n}\n\n\n// Calculate the width factor\nUtils.getWidthFactor = function (el, wrapCount) {\n  let widthFactor = 0.00001;\n  if (el.components.text && el.components.text.currentFont) {\n    widthFactor = el.components.text.currentFont.widthFactor\n    widthFactor = ((0.5 + wrapCount) * widthFactor);\n  }\n  return widthFactor;\n}\n\nmodule.exports = Utils;\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","const Layouts = require('./layouts');\nconst Config = require('./config');\nconst Behaviors = require('./behaviors');\nconst Draw = {};\n\nDraw.el = null;\n\nDraw.init = (el) => {\n  Draw.el = el;\n  Behaviors.el = el;\n  Behaviors.SFX = el.SFX;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL UI\n\nDraw.numericalUI = () => {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.025 0 0.12');\n  wrapper.setAttribute('rotation', '0 25 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.280');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW MAIN UI\n\nDraw.mainUI = () => {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.312 0 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.840');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTION UI\n\nDraw.actionsUI = () => {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '1.180 0 0.01');\n  wrapper.setAttribute('rotation', '0 -25 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.180');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL LAYOUT\n\nDraw.numericalLayout = () => {\n  var data = Layouts.numerical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0;\n  for (var i in data) {\n    let key_id = 'num-' + i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let index_x = i % 3;\n    let x = Config.KEY_WIDTH * index_x;\n    let y = Config.KEY_WIDTH * index_y;\n    key.setAttribute('position', `${x} -${y} 0`);\n    if (index_x === 2) {\n      index_y++;\n    }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ALPHABETICAL LAYOUT\n\nDraw.alphabeticalLayout = () => {\n  var data = Layouts.alphabetical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0,\n    index_x = 0,\n    prev_was_space = false;\n\n  for (var i in data) {\n    let key_id = 'main-' + i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    let x = Config.KEY_WIDTH * index_x;\n    let y = Config.KEY_WIDTH * index_y;\n\n    // Add left padding on the second line\n    if (index_y === 1) {\n      x = x + Config.KEY_WIDTH / 2;\n    }\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055 * 2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x + 0.055;\n      y = Config.KEY_WIDTH * index_y - 0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_y === 1 && index_x === 8) {\n      index_x = -1;\n      index_y++;\n    } else if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW SYMBOLS LAYOUT\n\nDraw.symbolsLayout = () => {\n  var data = Layouts.symbols;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0,\n    index_x = 0,\n    prev_was_space = false;\n\n  for (var i in data) {\n\n    let key_id = 'symbols-' + i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let x = Config.KEY_WIDTH * index_x;\n    let y = Config.KEY_WIDTH * index_y;\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055 * 2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x + 0.055;\n      y = Config.KEY_WIDTH * index_y - 0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTIONS LAYOUT\n\nDraw.actionsLayout = () => {\n  var data = Layouts.actions;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let val_y = 0;\n  for (var i in data) {\n    let key_id = 'action-' + i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    key.setAttribute('position', `0 -${val_y} 0`);\n    if (i == 0) {\n      val_y += Config.ACTION_WIDTH + 0.01;\n    } else if (i == 1) {\n      val_y += Config.KEY_WIDTH + 0.01;\n    }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW KEY\n\nDraw.key = (id, type, value) => {\n  var that = this;\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('key-id', id);\n  el.setAttribute('width', Config.KEY_WIDTH);\n  el.setAttribute('height', Config.KEY_WIDTH);\n  el.setAttribute('radius', '0.008');\n  el.setAttribute('position', '0 0 0');\n  el.setAttribute('key-type', type);\n  el.setAttribute('key-value', value);\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\n  // ---------------------------------------------------------------------------\n  // EVENTS\n\n  Behaviors.addKeyEvents(el);\n\n  // ---------------------------------------------------------------------------\n  // SHADOW\n\n  el.shadow_el = document.createElement('a-image');\n  el.shadow_el.setAttribute('width', Config.KEY_WIDTH * 1.25);\n  el.shadow_el.setAttribute('height', Config.KEY_WIDTH * 1.25);\n  el.shadow_el.setAttribute('position', Config.KEY_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' -0.002');\n  el.shadow_el.setAttribute('src', '#aframeKeyboardShadow');\n  el.appendChild(el.shadow_el);\n\n  // ---------------------------------------------------------------------------\n  // TEXT KEY\n\n  if (type === 'text' || type === 'spacebar' || type === 'symbol') {\n    var letter_el = document.createElement('a-text');\n    letter_el.setAttribute('value', value);\n    letter_el.setAttribute('color', '#dbddde');\n    letter_el.setAttribute('position', Config.KEY_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' 0.02');\n    letter_el.setAttribute('scale', '0.16 0.16 0.16');\n    letter_el.setAttribute('align', 'center');\n    letter_el.setAttribute('baseline', 'center');\n    el.appendChild(letter_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // SPACEBAR KEY\n\n  if (type === 'spacebar') {\n    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\n    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\n    el.setAttribute('color', '#404b50');\n    el.shadow_el.setAttribute('width', Config.SPACE_KEY_WIDTH * 1.12);\n    el.shadow_el.setAttribute('height', Config.SPACE_KEY_HEIGHT * 1.2);\n    el.shadow_el.setAttribute('position', Config.SPACE_KEY_WIDTH / 2 + ' ' + Config.SPACE_KEY_HEIGHT / 2 + ' -0.02');\n    letter_el.setAttribute('color', '#adb1b3');\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH / 2 + ' ' + Config.SPACE_KEY_HEIGHT / 2 + ' 0');\n  }\n\n  // ---------------------------------------------------------------------------\n  // SYMBOL KEY\n  else if (type === 'symbol') {\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n  }\n\n  // ---------------------------------------------------------------------------\n  // ACTION KEY\n\n  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\n    el.setAttribute('width', Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute('width', Config.ACTION_WIDTH * 1.25);\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' -0.02');\n  }\n\n  // ---------------------------------------------------------------------------\n  // SHIFT KEY\n\n  if (type === 'shift') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('data-type', 'icon');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\n    icon_el.setAttribute('src', '#aframeKeyboardShift');\n    el.appendChild(icon_el);\n    Draw.el.shiftKey = el;\n  }\n\n  // ---------------------------------------------------------------------------\n  // GLOBAL\n  else if (type === 'global') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\n    icon_el.setAttribute('src', '#aframeKeyboardGlobal');\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // BACKSPACE\n  else if (type === 'backspace') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\n    icon_el.setAttribute('src', '#aframeKeyboardBackspace');\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // ENTER\n  else if (type === 'enter') {\n    el.setAttribute('height', Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute('height', Config.ACTION_WIDTH * 1.25);\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH / 2 + ' ' + Config.ACTION_WIDTH / 2 + ' -0.02');\n\n    var circle_el = document.createElement('a-circle');\n    circle_el.setAttribute('color', '#4285f4');\n    circle_el.setAttribute('radius', 0.044);\n    circle_el.setAttribute('position', '0.07 0.07 0.01')\n    el.appendChild(circle_el);\n\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.034');\n    icon_el.setAttribute('height', '0.034');\n    icon_el.setAttribute('position', '0.07 0.07 0.011')\n    icon_el.setAttribute('src', '#aframeKeyboardEnter');\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // DISMISS\n  else if (type === 'dismiss') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\n    icon_el.setAttribute('src', '#aframeKeyboardDismiss');\n    el.appendChild(icon_el);\n  }\n\n  return el;\n}\n\nmodule.exports = Draw;\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/draw.js","const Layouts = {\n  numerical: [\n    { type: 'text', value: '1'},\n    { type: 'text', value: '2'},\n    { type: 'text', value: '3'},\n    { type: 'text', value: '4'},\n    { type: 'text', value: '5'},\n    { type: 'text', value: '6'},\n    { type: 'text', value: '7'},\n    { type: 'text', value: '8'},\n    { type: 'text', value: '9'},\n    { type: 'text', value: '.'},\n    { type: 'text', value: '0'},\n    { type: 'text', value: '-'}\n  ],\n\n  alphabetical: [\n    { type: 'text', value: 'q'},\n    { type: 'text', value: 'w'},\n    { type: 'text', value: 'e'},\n    { type: 'text', value: 'r'},\n    { type: 'text', value: 't'},\n    { type: 'text', value: 'y'},\n    { type: 'text', value: 'u'},\n    { type: 'text', value: 'i'},\n    { type: 'text', value: 'o'},\n    { type: 'text', value: 'p'},\n\n    { type: 'text', value: 'a'},\n    { type: 'text', value: 's'},\n    { type: 'text', value: 'd'},\n    { type: 'text', value: 'f'},\n    { type: 'text', value: 'g'},\n    { type: 'text', value: 'h'},\n    { type: 'text', value: 'j'},\n    { type: 'text', value: 'k'},\n    { type: 'text', value: 'l'},\n\n    { type: 'shift'},\n    { type: 'text', value: 'z'},\n    { type: 'text', value: 'x'},\n    { type: 'text', value: 'c'},\n    { type: 'text', value: 'v'},\n    { type: 'text', value: 'b'},\n    { type: 'text', value: 'n'},\n    { type: 'text', value: 'm'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'symbol', value: '#+='},\n    { type: 'text', value: '@'},\n    { type: 'spacebar', value: ''},\n    { type: 'text', value: ','},\n    { type: 'text', value: '.'}\n  ],\n\n  symbols: [\n    { type: 'text', value: '@'},\n    { type: 'text', value: '#'},\n    { type: 'text', value: '$'},\n    { type: 'text', value: '%'},\n    { type: 'text', value: '&'},\n    { type: 'text', value: '*'},\n    { type: 'text', value: '-'},\n    { type: 'text', value: '+'},\n    { type: 'text', value: '('},\n    { type: 'text', value: ')'},\n\n    { type: 'text', value: '~'},\n    { type: 'text', value: '`'},\n    { type: 'text', value: '\"'},\n    { type: 'text', value: '\\''},\n    { type: 'text', value: ':'},\n    { type: 'text', value: ';'},\n    { type: 'text', value: '_'},\n    { type: 'text', value: '='},\n    { type: 'text', value: '\\\\'},\n    { type: 'text', value: '/'},\n\n    { type: 'text', value: '{'},\n    { type: 'text', value: '}'},\n    { type: 'text', value: '['},\n    { type: 'text', value: ']'},\n    { type: 'text', value: '<'},\n    { type: 'text', value: '>'},\n    { type: 'text', value: '^'},\n    { type: 'text', value: '|'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'symbol', value: 'ABC'},\n    { type: 'text', value: '@'},\n    { type: 'spacebar', value: ''},\n    { type: 'text', value: ','},\n    { type: 'text', value: '.'}\n  ],\n\n  actions: [\n    { type: 'backspace', value: 'Del'},\n    { type: 'enter', value: 'OK'},\n    { type: 'dismiss', value: 'W'},\n  ]\n}\n\nmodule.exports = Layouts;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/layouts.js","const Config = {\n  KEYBOARD_COLOR: \"#263238\",\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n  KEY_COLOR_ACTIVE: \"#404b50\",\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n  KEY_WIDTH: 0.08,\n  SPACE_KEY_WIDTH: 0.368,\n  SPACE_KEY_HEIGHT: 0.05,\n  ACTION_WIDTH: 0.140,\n}\n\nmodule.exports = Config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/config.js","const Assets = require('./assets');\nconst Config = require('./config');\nconst Utils = require('../utils');\nconst Event = require('../core/event');\nconst SFX = require('./sfx');\nconst Behaviors = {};\n\nBehaviors.el = null;\n\n// -----------------------------------------------------------------------------\n// KEYBOARD METHODS\n\nBehaviors.showKeyboard = function (el) {\n  if (el.o_position) {\n    el.object3D.position.copy(el.o_position);\n  }\n  el.isOpen = true;\n  for (let item of el.querySelectorAll('[data-ui]')) {\n    for (let child of item.children) {\n      child.setAttribute('show', true);\n    }\n  }\n  let parent = el.parentNode;\n  if (parent) {\n    return;\n  }\n  el.sceneEl.appendChild(el);\n};\n\nBehaviors.hideKeyboard = function (el) {\n  let position = el.getAttribute(\"position\");\n  if (position.x !== -10000) {\n    if (!el.o_position) {\n      el.o_position = new THREE.Vector3();\n    }\n    el.o_position.copy(position);\n  }\n  el.isOpen = false;\n  el.setAttribute(\"position\", \"-10000 -10000 -10000\");\n  el.setAttribute('fadeout', {\n    duration: 1\n  });\n}\n\nBehaviors.destroyKeyboard = function (el) {\n  let parent = el.parentNode;\n  if (!parent) {\n    return;\n  }\n  parent.removeChild(el);\n};\n\nBehaviors.openKeyboard = function (el) {\n  if (el.o_position) {\n    el.object3D.position.copy(el.o_position);\n  }\n  el.isOpen = true;\n  el._transitioning = true;\n  let parent = el.parentNode;\n  if (!parent) {\n    el.sceneEl.appendChild(el);\n  }\n  for (let item of el.querySelectorAll('[data-ui]')) {\n    for (let child of item.children) {\n      child.setAttribute('hide', true);\n    }\n\n    function animationend() {\n      item.children[0].removeEventListener('animationend', animationend)\n      setTimeout(function () {\n        item.children[1].setAttribute('fadein', {\n          duration: 160\n        });\n        Event.emit(Behaviors.el, 'didopen');\n        el._transitioning = false;\n      }, 10)\n    }\n    item.children[0].setAttribute('fadein', {\n      duration: 160\n    });\n    item.children[0].addEventListener('animationend', animationend)\n  }\n};\n\nBehaviors.dismissKeyboard = function (el) {\n  el._transitioning = true;\n  for (let item of el.querySelectorAll('[data-ui]')) {\n    for (let child of item.children) {\n      child.setAttribute('show', true);\n    }\n    el.isOpen = false;\n\n    function animationend() {\n      item.children[1].removeEventListener('animationend', animationend)\n      setTimeout(function () {\n        function animationend() {\n          item.children[0].removeEventListener('animationend', animationend);\n          Behaviors.hideKeyboard(el);\n          Event.emit(Behaviors.el, 'diddismiss');\n          el._transitioning = false;\n        }\n        item.children[0].setAttribute('fadeout', {\n          duration: 160\n        });\n        item.children[0].addEventListener('animationend', animationend);\n      }, 10)\n    }\n    item.children[1].setAttribute('fadeout', {\n      duration: 160\n    });\n    item.children[1].addEventListener('animationend', animationend)\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEY EVENTS\n\nBehaviors.addKeyEvents = (el) => {\n  el.addEventListener('click', (e) => {\n    if (e instanceof MouseEvent && Behaviors.el.isOpen) {\n      Behaviors.keyClick(el);\n    }\n  });\n  el.addEventListener('mousedown', (e) => {\n    if (e instanceof MouseEvent && Behaviors.el.isOpen) {\n      Behaviors.keyDown(el);\n    }\n  });\n  el.addEventListener('mouseup', (e) => {\n    if (e instanceof CustomEvent && Behaviors.el.isOpen) {\n      Behaviors.keyOut(el);\n    }\n  });\n  el.addEventListener('raycaster-intersected', (e) => {\n    if (e instanceof CustomEvent && Behaviors.el.isOpen) {\n      Behaviors.keyIn(el);\n    }\n  });\n  el.addEventListener('raycaster-intersected-cleared', (e) => {\n    if (e instanceof CustomEvent && Behaviors.el.isOpen) {\n      Behaviors.keyOut(el);\n    }\n  });\n};\n\n// -----------------------------------------------------------------------------\n// KEYCLICK\n\nBehaviors.keyClick = function (keyEl) {\n  SFX.keyDown(Behaviors.el);\n\n  let type = keyEl.getAttribute('key-type');\n  let value = keyEl.getAttribute('key-value');\n\n  if (type === 'text' || type === 'spacebar') {\n    if (type === 'spacebar') {\n      value = ' ';\n    }\n    if (Behaviors.isShiftEnabled) {\n      value = value.toUpperCase();\n      Behaviors.shiftToggle();\n    }\n    // else if (Behaviors.isSymbols) {\n    //   Behaviors.symbolsToggle();\n    // }\n    Event.emit(Behaviors.el, 'input', value);\n  } else if (type === 'shift') {\n    Behaviors.shiftToggle();\n  } else if (type === 'symbol') {\n    Behaviors.symbolsToggle();\n  } else if (type === 'backspace') {\n    Event.emit(Behaviors.el, 'backspace');\n  } else if (type === 'enter') {\n    Event.emit(Behaviors.el, 'input', '\\n');\n    Event.emit(Behaviors.el, 'enter', '\\n');\n  } else if (type === 'dismiss') {\n    Event.emit(Behaviors.el, 'dismiss');\n  }\n}\n\n// -----------------------------------------------------------------------------\n// KEYDOWN\n\nBehaviors.keyDown = function (keyEl) {\n  if (Behaviors.el._transitioning) {\n    return;\n  }\n  keyEl.object3D.position.z = 0.003;\n  if (keyEl.getAttribute('key-type') === 'spacebar') {\n    keyEl.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\n  } else {\n    keyEl.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYIN\n\nBehaviors.keyIn = function (keyEl) {\n  if (Behaviors.el._transitioning) {\n    return;\n  }\n  if (keyEl.object3D.children[2] && keyEl.object3D.children[2].material && !keyEl.object3D.children[2].material.opacity) {\n    return\n  }\n  SFX.keyIn(Behaviors.el);\n  if (keyEl.getAttribute('key-type') === 'spacebar') {\n    keyEl.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\n  } else {\n    keyEl.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYOUT\n\nBehaviors.keyOut = function (keyEl) {\n  keyEl.object3D.position.z = 0;\n  if (keyEl.getAttribute('key-type') === 'spacebar') {\n    keyEl.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  } else {\n    keyEl.setAttribute('color', Config.KEYBOARD_COLOR);\n  }\n}\n\n// -----------------------------------------------------------------------------\n// SHIFT\n\nBehaviors.isShiftEnabled = false;\nBehaviors.shiftToggle = function () {\n  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\n\n  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\n  if (Behaviors.isShiftEnabled) {\n    icon_el.setAttribute('src', Assets.aframeKeyboardShiftActive);\n  } else {\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n  }\n\n  for (let keyEl of document.querySelectorAll(\"[key-id]\")) {\n    let key_id = keyEl.getAttribute('key-id'),\n      key_type = keyEl.getAttribute('key-type');\n    if (key_id.startsWith('main-') && key_type === \"text\") {\n      let textEl = keyEl.querySelector('a-text');\n      if (textEl) {\n        let value = textEl.getAttribute('value').toLowerCase();\n        if (this.isShiftEnabled) {\n          value = value.toUpperCase();\n        }\n        textEl.setAttribute('value', value);\n      }\n    }\n  }\n}\n\nBehaviors.isSymbols = false;\nBehaviors.symbolsToggle = function () {\n  Behaviors.isSymbols = !Behaviors.isSymbols;\n  if (!Behaviors.isSymbols) {\n    Behaviors.el.mainAlphaUI.object3D.position.set(0.312, 0, 0);\n    Behaviors.el.mainSymbolUI.object3D.position.set(-10000, -10000, -10000);\n  } else {\n    Behaviors.el.mainSymbolUI.object3D.position.set(0.312, 0, 0);\n    Behaviors.el.mainAlphaUI.object3D.position.set(-10000, -10000, -10000);\n  }\n}\nmodule.exports = Behaviors;\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/behaviors.js","module.exports = [{\n    type: 'img',\n    id: 'aframeKeyboardShift',\n    src: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeKeyboardShiftActive',\n    src: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeKeyboardGlobal',\n    src: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeKeyboardBackspace',\n    src: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeKeyboardEnter',\n    src: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeKeyboardDismiss',\n    src: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeKeyboardShadow',\n    src: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`\n  },\n  {\n    type: 'audio',\n    id: 'aframeKeyboardKeyIn',\n    src: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`\n  },\n  {\n    type: 'audio',\n    id: 'aframeKeyboardKeyDown',\n    src: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\n  }\n]\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/assets.js","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeKeyboardKeyInSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeKeyboardKeyIn');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeKeyboardKeyDownSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeKeyboardKeyDown');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  keyIn: function (parent) {\n    let el = parent.querySelector('[key=aframeKeyboardKeyInSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  keyDown: function (parent) {\n    let el = parent.querySelector('[key=aframeKeyboardKeyDownSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\n/*\n@BUG: Space has not effect when no letter comes after.\n@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\n*/\n\nAFRAME.registerComponent('input', {\n  schema: {\n    value: { type: \"string\", default: \"\" },\n    name: { type: \"string\", default: \"\" },\n    disabled: { type: \"boolean\", default: false },\n    color: { type: \"color\", default: \"#000\" },\n    align: { type: \"string\", default: \"left\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    side: { type: \"string\", default: 'front' },\n    tabSize: { type: \"int\", default: 4 },\n    placeholder: { type: \"string\", default: \"\" },\n    placeholderColor: { type: \"color\", default: \"#AAA\" },\n    maxLength: { type: \"int\", default: 0 },\n    type: { type: \"string\", default: \"text\" },\n    width: { type: \"number\", default: 1 },\n    cursorWidth: { type: \"number\", default: 0.01 },\n    cursorHeight: { type: \"number\", default: 0.08 },\n    cursorColor: { type: \"color\", default: \"#007AFF\" },\n    backgroundColor: { type: \"color\", default: \"#FFF\" },\n    backgroundOpacity: { type: \"number\", default: 1 },\n  },\n\n  init: function () {\n    let that = this;\n\n    this.background = document.createElement('a-rounded');\n    this.background.setAttribute('radius', 0.01)\n    this.background.setAttribute('height', 0.18)\n    this.background.setAttribute('side', 'double')\n    this.el.appendChild(this.background);\n\n    this.cursor = document.createElement('a-plane');\n    this.cursor.setAttribute('position', '0 0 0.003');\n    this.cursor.setAttribute('visible', false);\n    this.el.appendChild(this.cursor);\n\n    this.text = document.createElement('a-entity');\n    this.el.appendChild(this.text);\n\n    this.placeholder = document.createElement('a-entity');\n    this.placeholder.setAttribute('visible', false);\n    this.el.appendChild(this.placeholder);\n\n    this.el.focus = this.focus.bind(this);\n    this.el.blur = this.blur.bind(this);\n    this.el.appendString = this.appendString.bind(this);\n    this.el.deleteLast = this.deleteLast.bind(this);\n\n    //setTimeout(function() { that.updateText(); }, 0);\n    this.blink();\n\n    this.el.addEventListener('click', function() {\n      if (this.components.input.data.disabled) { return; }\n      that.focus();\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  blink: function() {\n    let that = this;\n    if (!this.isFocused) {\n      that.cursor.setAttribute('visible', false);\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n      return\n    }\n    this.cursorInterval = setInterval(function(){\n      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\n    }, 500);\n  },\n  isFocused: false,\n  focus: function(noemit) {\n    if (this.isFocused) { return; }\n    this.isFocused = true;\n    this.cursor.setAttribute('visible', true);\n    this.blink();\n    Event.emit(this.el, 'focus');\n    if (!noemit) { Event.emit(document.body, 'didfocusinput', this.el); }\n  },\n  blur: function(noemit) {\n    if (!this.isFocused) { return; }\n    this.isFocused = false;\n    if (this.cursorInterval) {\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n    }\n    this.cursor.setAttribute('visible', false);\n    Event.emit(this.el, 'blur');\n    if (!noemit) { Event.emit(document.body, 'didblurinput', this.el); }\n  },\n  appendString: function(data) {\n    if(data === '\\n') {\n      return this.blur();\n    }\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str+data;\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  deleteLast: function() {\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str.slice(0, -1);\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  updateText: function() {\n    let that = this;\n    let padding = {\n      left: 0.021,\n      right: 0.021\n    };\n\n    let props = {\n      color: this.data.color,\n      align: this.data.align,\n      side: this.data.side,\n      tabSize: this.data.tabSize,\n      wrapCount: 24*this.data.width,\n      width: this.data.width\n    }\n\n    // Make cursor stop blinking when typing..\n    // (and blinking again after typing stop).\n    let attr = this.text.getAttribute(\"text\");\n    if (attr) {\n      if (this.data.value !== attr.value) {\n        if (this.cursorInterval) {\n          clearInterval(this.cursorInterval);\n          this.cursorInterval = null;\n        }\n        if (this.cursorTimer) {\n          clearTimeout(this.cursorTimer);\n          this.cursorTimer = null;\n        }\n        this.cursor.setAttribute('visible', true);\n        this.cursorTimer = setTimeout(function(){\n          that.blink();\n        }, 50);\n      }\n    }\n\n    // Max length\n    if (this.data.maxLength) {\n      props.value = this.data.value.substring(0, this.data.maxLength);\n      this.el.setAttribute('value', props.value)\n    } else {\n      props.value = this.data.value;\n    }\n\n    if (this.data.type === \"password\") {\n      props.value = \"*\".repeat(this.data.value.length);\n    }\n\n    if (this.data.font.length) { props.font = this.data.font }\n    if (this.data.letterSpacing) { props.letterSpacing = this.data.letterSpacing; }\n    if (this.data.lineHeight.length) { props.lineHeight = this.data.lineHeight; }\n    this.text.setAttribute('visible', false);\n    this.text.setAttribute(\"text\", props);\n\n    function getTextWidth(el, data, trimFirst, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        if (trimFirst) {\n          data.value = data.value.substr(1);\n        } else {\n          data.value = data.value.slice(0, -1);\n        }\n        el.setAttribute(\"text\", data);\n        return getTextWidth(el, data, trimFirst);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, data.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = (v+padding.left+padding.right) / that.data.width;\n\n        if (textRatio > 1) {\n          if (trimFirst) {\n            data.value = data.value.substr(1);\n          } else {\n            data.value = data.value.slice(0, -1);\n          }\n          el.setAttribute(\"text\", data);\n          return getTextWidth(el, data, trimFirst, _widthFactor);\n        }\n      }\n      return v;\n    }\n\n\n    if (props.value.length) {\n      this.placeholder.setAttribute('visible', false);\n    } else {\n      this.placeholder.setAttribute('visible', true);\n    }\n\n    let placeholder_props = Utils.clone(props);\n    placeholder_props.value = this.data.placeholder;\n    placeholder_props.color = this.data.placeholderColor;\n    this.placeholder.setAttribute(\"text\", placeholder_props);\n\n    setTimeout(function() {\n      if (that.text.object3D) {\n        let children = that.text.object3D.children;\n        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\n          let v = 0;\n          if (children[0].geometry.visibleGlyphs.length) {\n            v = getTextWidth(that.text, props, true);\n            that.text.setAttribute('visible', true);\n          }\n          that.cursor.setAttribute('position', v+padding.left+' 0 0.003');\n        } else {\n          that.cursor.setAttribute('position', padding.left+' 0 0.003');\n        }\n      } else {  that.cursor.setAttribute('position', padding.left+' 0 0.003'); }\n      getTextWidth(that.placeholder, placeholder_props);\n    }, 0)\n\n    this.background.setAttribute('color', this.data.backgroundColor)\n    /*if (this.data.backgroundOpacity) {\n      setTimeout(function() {\n        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\n      }, 0);\n    }*/\n    this.background.setAttribute('width', this.data.width);\n    //this.background.setAttribute('position', this.data.width/2+' 0 0');\n    this.background.setAttribute('position', '0 -0.09 0.001');\n    this.text.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\n    this.placeholder.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\n  },\n  updateCursor: function() {\n    this.cursor.setAttribute('width', this.data.cursorWidth)\n    this.cursor.setAttribute('height', this.data.cursorHeight)\n    this.cursor.setAttribute('color', this.data.cursorColor);\n  },\n  update: function () {\n    let that = this;\n    setTimeout(function() {\n    //  Utils.updateOpacity(that.el, that.data.opacity);\n    }, 0)\n\n    this.updateCursor();\n    this.updateText();\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-input', {\n  defaultComponents: {\n    input: {}\n  },\n  mappings: {\n    value: 'input.value',\n    name: 'input.name',\n    disabled: 'input.disabled',\n    color: 'input.color',\n    align: 'input.align',\n    font: 'input.font',\n    'letter-spacing': 'input.letterSpacing',\n    'line-height': 'input.lineHeight',\n    'opacity': 'input.opacity',\n    'side': 'input.side',\n    'tab-size': 'input.tabSize',\n    placeholder: 'input.placeholder',\n    'placeholder-color': 'input.placeholderColor',\n    'max-length': 'input.maxLength',\n    type: 'input.type',\n    width: 'input.width',\n    'cursor-width': \"input.cursorWidth\",\n    'cursor-height': \"input.cursorHeight\",\n    'cursor-color': \"input.cursorColor\",\n    'background-color': 'input.backgroundColor',\n    'background-opacity': 'input.backgroundOpacity'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/input/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('switch', {\n  schema: {\n    name: {\n      type: \"string\",\n      default: \"\"\n    },\n    enabled: {\n      type: 'boolean',\n      default: false\n    },\n    disabled: {\n      type: 'boolean',\n      default: false\n    },\n    fillColor: {\n      type: \"color\",\n      default: \"#bababa\"\n    },\n    knobColor: {\n      type: \"color\",\n      default: \"#f5f5f5\"\n    },\n    fillColorEnabled: {\n      type: \"color\",\n      default: \"#80a8ff\"\n    },\n    knobColorEnabled: {\n      type: \"color\",\n      default: \"#4076fd\"\n    },\n    fillColorDisabled: {\n      type: \"color\",\n      default: \"#939393\"\n    },\n    knobColorDisabled: {\n      type: \"color\",\n      default: \"#a2a2a2\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // FILL\n    this.el.fill = document.createElement('a-rounded');\n    this.el.fill.setAttribute('width', 0.36)\n    this.el.fill.setAttribute('height', 0.16)\n    this.el.fill.setAttribute('radius', 0.08)\n    this.el.fill.setAttribute('side', 'double')\n    this.el.fill.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.el.fill);\n\n    // KNOB\n    this.el.knob = document.createElement('a-circle');\n    this.el.knob.setAttribute('position', '0.06 0.08 0.002')\n    this.el.knob.setAttribute('radius', 0.12)\n    this.el.knob.setAttribute('side', 'double')\n    this.el.appendChild(this.el.knob);\n\n    // SHADOW\n    this.el.shadow_el = document.createElement('a-image');\n    this.el.shadow_el.setAttribute('width', 0.24 * 1.25);\n    this.el.shadow_el.setAttribute('height', 0.24 * 1.25);\n    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\n    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\n    this.el.knob.appendChild(this.el.shadow_el);\n\n    this.el.addEventListener('click', function () {\n      if (this.components.switch.data.disabled) {\n        return;\n      }\n      this.setAttribute('enabled', !this.components.switch.data.enabled);\n      Event.emit(this, 'change', this.components.switch.data.enabled);\n    });\n    this.el.addEventListener('mouseenter', function () {\n      if (this.components.switch && this.components.switch.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 0.92);\n    });\n    this.el.addEventListener('mouseleave', function () {\n      if (this.components.switch && this.components.switch.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n    this.el.addEventListener('mousedown', function () {\n      if (this.components.switch && this.components.switch.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 0.84);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function () {\n      if (this.components.switch && this.components.switch.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n\n    Object.defineProperty(this.el, 'enabled', {\n      get: function () {\n        return this.getAttribute('enabled');\n      },\n      set: function (value) {\n        this.setAttribute('enabled', value);\n      },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  on: function () {\n    this.el.fill.setAttribute('color', this.data.fillColorEnabled)\n    this.el.knob.setAttribute('position', '0.32 0.08 0.002');\n    this.el.knob.setAttribute('color', this.data.knobColorEnabled)\n  },\n  off: function () {\n    this.el.fill.setAttribute('color', this.data.fillColor)\n    this.el.knob.setAttribute('position', '0.06 0.08 0.002');\n    this.el.knob.setAttribute('color', this.data.knobColor)\n  },\n  disable: function () {\n    this.el.fill.setAttribute('color', this.data.fillColorDisabled)\n    this.el.knob.setAttribute('color', this.data.knobColorDisabled)\n  },\n  update: function () {\n    if (this.data.enabled) {\n      this.on();\n    } else {\n      this.off();\n    }\n    if (this.data.disabled) {\n      this.disable();\n    }\n    Utils.updateOpacity(this.el, this.data.opacity);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-switch', {\n  defaultComponents: {\n    switch: {}\n  },\n  mappings: {\n    name: 'switch.name',\n    enabled: 'switch.enabled',\n    disabled: 'switch.disabled',\n    'fill-color': 'switch.fillColor',\n    'knob-color': 'switch.knobColor',\n    'fill-color-enabled': 'switch.fillColorEnabled',\n    'knob-color-enabled': 'switch.knobColorEnabled',\n    'fill-color-disabled': 'switch.fillColorDisabled',\n    'knob-color-disabled': 'switch.knobColorDisabled',\n    opacity: 'switch.opacity'\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/switch/index.js","module.exports = [\n  { type: 'img', id: 'aframeSwitchShadow', src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png`},\n  { type: 'audio', id: 'aframeSwitchClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeSwitchClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeSwitchClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeSwitchClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeSwitchClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeSwitchClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeSwitchClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeSwitchClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\nAFRAME.registerComponent('form', {\n  schema: {\n  },\n  init: function () {\n  },\n  update: function () {\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-form', {\n  defaultComponents: {\n    form: {}\n  },\n  mappings: {\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('radio', {\n  schema: {\n    checked: {\n      type: 'boolean',\n      default: false\n    },\n    disabled: {\n      type: 'boolean',\n      default: false\n    },\n    name: {\n      type: \"string\",\n      default: \"\"\n    },\n    value: {\n      type: \"string\",\n      default: \"\"\n    },\n    label: {\n      type: \"string\",\n      default: \"\"\n    },\n    radioColor: {\n      type: \"color\",\n      default: \"#757575\"\n    },\n    radioColorChecked: {\n      type: \"color\",\n      default: \"#4076fd\"\n    },\n    color: {\n      type: \"color\",\n      default: \"#757575\"\n    },\n    font: {\n      type: \"string\",\n      default: \"\"\n    },\n    letterSpacing: {\n      type: \"int\",\n      default: 0\n    },\n    lineHeight: {\n      type: \"string\",\n      default: \"\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    width: {\n      type: \"number\",\n      default: 1\n    }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.hitbox.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-ring');\n    this.outline.setAttribute('radius-outer', 0.1)\n    this.outline.setAttribute('radius-inner', 0.078);\n    this.outline.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.outline);\n\n    // CIRCLE\n    this.circle = document.createElement('a-circle');\n    this.circle.setAttribute('radius', 0.05)\n    this.circle.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.circle);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function () {\n      if (this.components.radio.data.disabled) {\n        return;\n      }\n      this.setAttribute('checked', true);\n      that.onClick();\n    });\n    this.el.addEventListener('mouseenter', function () {\n      if (this.components.radio && this.components.radio.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 0.92);\n    });\n    this.el.addEventListener('mouseleave', function () {\n      if (this.components.radio && this.components.radio.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n    this.el.addEventListener('mousedown', function () {\n      if (this.components.radio && this.components.radio.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 0.84);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function () {\n      if (this.components.radio && this.components.radio.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function () {\n        return this.getAttribute('value');\n      },\n      set: function (value) {\n        this.setAttribute('value', value);\n      },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function (noemit) {\n    if (this.data.name) {\n      let nearestForm = this.el.closest(\"a-form\");\n      if (nearestForm) {\n        let didCheck = false;\n        let children = Array.from(nearestForm.querySelectorAll(`[name=${this.data.name}]`));\n        children.reverse();\n        for (let child of children) {\n          // Radio + not disabled\n          if (child.components.radio) {\n            // Currently checked\n            if (child === this.el && child.hasAttribute('checked')) {\n              didCheck = true;\n              child.components.radio.check();\n              if (!noemit) {\n                Event.emit(child, 'change', true);\n              }\n            } else {\n              if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\n                didCheck = true;\n                child.components.radio.check();\n              } else {\n                child.components.radio.uncheck();\n              }\n            }\n          }\n        }\n        if (!didCheck && this.el.hasAttribute('checked')) {\n          this.check();\n          if (!noemit) {\n            Event.emit(this.el, 'change', true);\n          }\n        }\n      }\n    }\n  },\n  check: function () {\n    this.outline.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('visible', true);\n    if (this.data.disabled) {\n      this.disabled();\n    }\n  },\n  uncheck: function () {\n    this.outline.setAttribute('color', this.data.radioColor);\n    this.circle.setAttribute('visible', false);\n    if (this.data.disabled) {\n      this.disabled();\n    }\n  },\n  disabled: function () {\n    this.outline.setAttribute('color', \"#C4C4C4\");\n    this.circle.setAttribute('color', \"#B0B0B0\");\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width / 2 + ' 0 0.001');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10 * (this.data.width + 0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) {\n      props.font = this.data.font;\n    }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.002');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n        return 0;\n      }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) {\n        return 0;\n      }\n      v = v[v.length - 1];\n      if (!v) {\n        return 0;\n      }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) {\n          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n        }\n        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function () {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function () {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 0.4);\n            Utils.updateOpacity(that.circle, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function () {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 1);\n            Utils.updateOpacity(that.circle, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-radio', {\n  defaultComponents: {\n    radio: {}\n  },\n  mappings: {\n    checked: 'radio.checked',\n    disabled: 'radio.disabled',\n    name: 'radio.name',\n    value: 'radio.value',\n    label: 'radio.label',\n    'radio-color': 'radio.radioColor',\n    'radio-color-checked': 'radio.radioColorChecked',\n    color: 'radio.color',\n    align: 'radio.align',\n    font: 'radio.font',\n    'letter-spacing': 'radio.letterSpacing',\n    'line-height': 'radio.lineHeight',\n    'opacity': 'radio.opacity',\n    width: 'radio.width'\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/radio/index.js","module.exports = [\n  { type: 'audio', id: 'aframeRadioClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeRadioClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeRadioClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeRadioClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeRadioClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeRadioClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeRadioClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeRadioClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('checkbox', {\n  schema: {\n    checked: {\n      type: 'boolean',\n      default: false\n    },\n    disabled: {\n      type: 'boolean',\n      default: false\n    },\n    name: {\n      type: \"string\",\n      default: \"\"\n    },\n    value: {\n      type: \"string\",\n      default: \"\"\n    },\n    label: {\n      type: \"string\",\n      default: \"\"\n    },\n    checkboxColor: {\n      type: \"color\",\n      default: \"#757575\"\n    },\n    checkboxColorChecked: {\n      type: \"color\",\n      default: \"#4076fd\"\n    },\n    color: {\n      type: \"color\",\n      default: \"#757575\"\n    },\n    font: {\n      type: \"string\",\n      default: \"\"\n    },\n    letterSpacing: {\n      type: \"int\",\n      default: 0\n    },\n    lineHeight: {\n      type: \"string\",\n      default: \"\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    width: {\n      type: \"number\",\n      default: 1\n    }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('width', 0.2);\n    this.outline.setAttribute('height', 0.2);\n    this.outline.setAttribute('radius', 0.02);\n    this.outline.setAttribute('position', `0 -${0.2/2} 0.001`);\n    this.el.appendChild(this.outline);\n\n    // INSIDE\n    this.inside = document.createElement('a-rounded');\n    this.inside.setAttribute('width', 0.156);\n    this.inside.setAttribute('height', 0.156);\n    this.inside.setAttribute('radius', 0.01);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.inside.setAttribute('position', `${0.156/8} -${0.156/2} 0.002`);\n    this.el.appendChild(this.inside);\n\n    // CHECKMARK\n    this.checkmark = document.createElement('a-image');\n    this.checkmark.setAttribute('width', 0.16);\n    this.checkmark.setAttribute('height', 0.16);\n    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\n    this.checkmark.setAttribute('position', '0.1 0 0.003');\n    this.el.appendChild(this.checkmark);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function () {\n      if (this.components.checkbox.data.disabled) {\n        return;\n      }\n      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\n      this.setAttribute('checked', this.components.checkbox.data.checked);\n      that.onClick();\n    });\n    this.el.addEventListener('mouseenter', function () {\n      if (this.components.checkbox && this.components.checkbox.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 0.92);\n    });\n    this.el.addEventListener('mouseleave', function () {\n      if (this.components.checkbox && this.components.checkbox.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n    this.el.addEventListener('mousedown', function () {\n      if (this.components.checkbox && this.components.checkbox.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 0.84);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function () {\n      if (this.components.checkbox && this.components.checkbox.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function () {\n        return this.getAttribute('value');\n      },\n      set: function (value) {\n        this.setAttribute('value', value);\n      },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function (noemit) {\n    if (this.data.checked) {\n      this.check();\n    } else {\n      this.uncheck();\n    }\n    if (!noemit) {\n      Event.emit(this.el, 'change', this.data.checked);\n    }\n  },\n  check: function () {\n    this.outline.setAttribute('color', this.data.checkboxColorChecked);\n    this.inside.setAttribute('color', this.data.checkboxColorChecked);\n    this.checkmark.setAttribute('visible', true);\n    if (this.data.disabled) {\n      this.disabled();\n    }\n  },\n  uncheck: function () {\n    this.outline.setAttribute('color', this.data.checkboxColor);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.checkmark.setAttribute('visible', false);\n    if (this.data.disabled) {\n      this.disabled();\n    }\n  },\n  disabled: function () {\n    this.outline.setAttribute('color', \"#C4C4C4\");\n    this.inside.setAttribute('color', \"#B0B0B0\");\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width / 2 + ' 0 0.001');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10 * (this.data.width + 0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) {\n      props.font = this.data.font;\n    }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.001');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n        return 0;\n      }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) {\n        return 0;\n      }\n      v = v[v.length - 1];\n      if (!v) {\n        return 0;\n      }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) {\n          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n        }\n        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function () {\n      Utils.updateOpacity(that.el, that.data.opacity);\n\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function () {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function () {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-checkbox', {\n  defaultComponents: {\n    checkbox: {}\n  },\n  mappings: {\n    checked: 'checkbox.checked',\n    disabled: 'checkbox.disabled',\n    name: 'checkbox.name',\n    value: 'checkbox.value',\n    label: 'checkbox.label',\n    'checkbox-color': 'checkbox.checkboxColor',\n    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\n    color: 'checkbox.color',\n    align: 'checkbox.align',\n    font: 'checkbox.font',\n    'letter-spacing': 'checkbox.letterSpacing',\n    'line-height': 'checkbox.lineHeight',\n    'opacity': 'checkbox.opacity',\n    width: 'checkbox.width'\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/index.js","module.exports = [\n  { type: 'img', id: 'aframeCheckboxMark', src: `${AFRAME.ASSETS_PATH}/images/CheckmarkIcon.png`},\n  { type: 'audio', id: 'aframeCheckboxClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeCheckboxClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeCheckboxClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeCheckboxClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeCheckboxClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/sfx.js","const Utils = require('../utils');\nconst THEME = require('../theme');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('button', {\n  schema: {\n    disabled: {\n      type: 'boolean',\n      default: false\n    },\n    type: {\n      type: \"string\",\n      default: \"raised\"\n    },\n    name: {\n      type: \"string\",\n      default: \"\"\n    },\n    value: {\n      type: \"string\",\n      default: \"Button\"\n    },\n    buttonColor: {\n      type: \"color\",\n      default: \"#4076fd\"\n    },\n    color: {\n      type: \"color\",\n      default: \"#FFF\"\n    },\n    font: {\n      type: \"string\",\n      default: \"\"\n    },\n    letterSpacing: {\n      type: \"int\",\n      default: 0\n    },\n    lineHeight: {\n      type: \"string\",\n      default: \"\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    height: {\n      type: \"number\",\n      default: 0.36\n    },\n    width: {\n      type: \"number\",\n      default: 1\n    }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    this.wrapper = document.createElement('a-entity');\n    this.wrapper.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.wrapper);\n\n    this.shadow = document.createElement('a-image');\n    this.shadow.setAttribute('height', this.data.height * 1.25);\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\n    this.wrapper.appendChild(this.shadow);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('height', this.data.height);\n    this.outline.setAttribute('radius', 0.03);\n    this.outline.setAttribute('position', `0 -${this.data.height/2} 0.001`);\n    this.wrapper.appendChild(this.outline);\n\n    // OVERLAY\n    // this.overlay = document.createElement('a-rounded');\n    // this.overlay.setAttribute('height', 0.36);\n    // this.overlay.setAttribute('radius', 0.10);\n    // this.overlay.setAttribute('position', `0 -${0.36/2} 0.001`);\n    // this.wrapper.appendChild(this.overlay);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.outline.appendChild(this.label);\n\n\n    // EVENTS\n    this.el.addEventListener('click', function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return;\n      }\n      // that.wrapper.appendChild(that.overlay);\n      that.onClick();\n    });\n    this.el.addEventListener('mouseenter', function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 0.92);\n    });\n    this.el.addEventListener('mouseleave', function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n    this.el.addEventListener('mousedown', function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      that.wrapper.setAttribute('position', `0 0 0.036`);\n      Utils.updateOpacity(that.el, 0.84);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return;\n      }\n      that.wrapper.setAttribute('position', `0 0 0`);\n      Utils.updateOpacity(that.el, 1);\n    });\n\n    this.el.getWidth = this.getWidth.bind(this);\n    Object.defineProperty(this.el, 'value', {\n      get: function () {\n        return this.getAttribute('value');\n      },\n      set: function (value) {\n        this.setAttribute('value', value);\n      },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function () {\n    //Event.emit(this.el, 'click');\n  },\n  getWidth: function () {\n    return this.__width;\n  },\n  update: function () {\n    var that = this;\n    this.outline.setAttribute('color', this.data.buttonColor);\n    // this.overlay.setAttribute('color', this.data.color);\n\n    let props = {\n      color: this.data.color,\n      align: 'center',\n      wrapCount: 10 * this.data.width,\n      width: this.data.width,\n    }\n    if (this.data.font) {\n      props.font = this.data.font;\n    }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // TITLE\n    props.value = this.data.value.toUpperCase();\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.001');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, callback, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n        return setTimeout(function () {\n          getTextWidth(el, callback);\n        }, 10);\n      }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) {\n        return setTimeout(function () {\n          getTextWidth(el, callback);\n        }, 10);\n      }\n      v = v[v.length - 1];\n      if (!v) {\n        return callback(0);\n      }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el, callback);\n      } else {\n        if (!_widthFactor) {\n          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n        }\n        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, callback, _widthFactor);\n        }\n      }\n      return callback(v);\n    }\n    setTimeout(function () {\n      Utils.updateOpacity(that.el, that.data.opacity);\n\n      if (that.data.value.length) {\n        getTextWidth(that.label, (width) => {\n          that.label.setAttribute('position', `${width/2+0.28/2} ${0.36/2} 0.002`); //\n          width = width + 0.28;\n          that.outline.setAttribute('width', width);\n          // that.overlay.setAttribute('width', width);\n          that.__width = width;\n          that.shadow.setAttribute('width', width * 1.17);\n          that.shadow.setAttribute('position', width / 2 + ' 0 0');\n          // that.overlay.setAttribute('position', width / 2 + ' 0 0');\n          Event.emit(that.el, 'change:width', width)\n        });\n      }\n\n      // Utils.updateOpacity(that.overlay, 0);\n\n      if (that.data.disabled) {\n        that.shadow.setAttribute('visible', false);\n        that.outline.setAttribute('color', '#C4C4C4');\n        that.label.setAttribute('text', 'color', '#B0B0B0');\n        // let timer = setInterval(function () {\n        //   if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n        //     clearInterval(timer);\n        //     Utils.updateOpacity(that.outline, 0.62);\n        //   }\n        // }, 10)\n      } else {\n        let timer = setInterval(function () {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n          }\n        }, 10)\n      }\n\n      if (that.data.type === \"flat\") {\n        that.shadow.setAttribute('visible', false);\n        let timer = setInterval(function () {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n            if (that.data.disabled) {\n              // Utils.updateOpacity(that.label, 0.62);\n              that.outline.setAttribute('color', '#C4C4C4');\n              that.label.setAttribute('text', 'color', '#B0B0B0');\n            }\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-button', {\n  defaultComponents: {\n    button: {}\n  },\n  mappings: {\n    disabled: 'button.disabled',\n    type: 'button.type',\n    name: 'button.name',\n    value: 'button.value',\n    'button-color': 'button.buttonColor',\n    color: 'button.color',\n    font: 'button.font',\n    'letter-spacing': 'button.letterSpacing',\n    'line-height': 'button.lineHeight',\n    opacity: 'button.opacity',\n    width: 'button.width',\n    height: 'button.height'\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/button/index.js","const THEME = {\n  primary: '#6200EE',\n  primaryVariant: '#3700B3',\n  secondary: '#03DAC6',\n  secondaryVariant: '#018786',\n  backgroundd: '#FFFFFF',\n  surface: '#FFFFFF',\n  error: '#C51162',\n  onPrimary: '#FFFFFF',\n  onSecondary: '#000000',\n  onBackground: '#000000',\n  onSurface: '#000000',\n  onError: '#FFFFFF'\n};\n\nmodule.exports = THEME;\n\n\n// WEBPACK FOOTER //\n// ./src/theme.js","module.exports = [\n  { type: 'img', id: 'aframeButtonShadow', src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`},\n  { type: 'audio', id: 'aframeButtonClick', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`},\n  { type: 'audio', id: 'aframeButtonClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/assets.js","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClick');\n    // el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    // el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function (parent) {\n    let el = parent.querySelector('[key=aframeButtonClickSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function (parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n// WEBPACK FOOTER //\n// ./src/button/sfx.js","const Utils = require('../utils');\nconst Theme = require('../theme');\nconst Config = require('./config');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('iconbutton', {\n  schema: {\n    disabled: {\n      type: 'boolean',\n      default: false\n    },\n    type: {\n      type: \"string\",\n      default: \"raised\"\n    },\n    name: {\n      type: \"string\",\n      default: \"\"\n    },\n    value: {\n      type: \"string\",\n      default: \"Button\"\n    },\n    buttonColor: {\n      type: \"color\",\n      default: \"#4076fd\"\n    },\n    color: {\n      type: \"color\",\n      default: \"#FFF\"\n    },\n    font: {\n      type: \"string\",\n      default: \"\"\n    },\n    letterSpacing: {\n      type: \"int\",\n      default: 0\n    },\n    lineHeight: {\n      type: \"string\",\n      default: \"\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    width: {\n      type: \"number\",\n      default: 0.08\n    },\n    height: {\n      type: \"number\",\n      default: 0.08\n    },\n    iconScale: {\n      type: \"number\",\n      default: 0.75\n    },\n    src: {\n      type: \"string\",\n      default: \"#aframeButtonIcon\"\n    }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // WRAPPER\n    this.wrapper = document.createElement('a-entity');\n    this.wrapper.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.wrapper);\n\n    // SHADOW\n    this.shadow = document.createElement('a-image');\n    this.shadow.setAttribute('width', this.data.width * 1.25);\n    this.shadow.setAttribute('height', this.data.height * 1.25);\n    this.shadow.setAttribute('position', '0 0 -0.002');\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\n    this.wrapper.appendChild(this.shadow);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('width', this.data.width);\n    this.outline.setAttribute('height', this.data.height);\n    this.outline.setAttribute('radius', '0.008');\n    this.outline.setAttribute('position', `${-this.data.width/2} ${-this.data.height/2} 0`);\n    this.wrapper.appendChild(this.outline);\n\n    // ICON\n    this.icon = document.createElement('a-image');\n    this.icon.setAttribute('width', this.data.width * this.data.iconScale);\n    this.icon.setAttribute('height', this.data.height * this.data.iconScale);\n    this.icon.setAttribute('position', '0 0 0.001')\n    this.icon.setAttribute('src', this.data.src);\n    this.wrapper.appendChild(this.icon);\n\n\n    // EVENTS\n    this.el.addEventListener('click', function () {\n      if (this.components.iconbutton && this.components.iconbutton.data.disabled) {\n        return;\n      }\n      // that.wrapper.appendChild(that.overlay);\n      that.onClick();\n    });\n    this.el.addEventListener('mouseenter', function () {\n      if (this.components.iconbutton && this.components.iconbutton.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 0.92);\n    });\n    this.el.addEventListener('mouseleave', function () {\n      if (this.components.iconbutton && this.components.iconbutton.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n    this.el.addEventListener('mousedown', function () {\n      if (this.components.iconbutton && this.components.iconbutton.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      that.wrapper.setAttribute('position', `0 0 0.036`);\n      Utils.updateOpacity(that.el, 0.84);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return;\n      }\n      that.wrapper.setAttribute('position', `0 0 0`);\n      Utils.updateOpacity(that.el, 1);\n    });\n\n    this.el.getWidth = this.getWidth.bind(this);\n    Object.defineProperty(this.el, 'value', {\n      get: function () {\n        return this.getAttribute('value');\n      },\n      set: function (value) {\n        this.setAttribute('value', value);\n      },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function () {\n    //Event.emit(this.el, 'click');\n  },\n  getWidth: function () {\n    return this.__width;\n  },\n  update: function () {\n    var that = this;\n    this.outline.setAttribute('color', this.data.buttonColor);\n    this.icon.setAttribute('color', this.data.color);\n    // this.overlay.setAttribute('color', this.data.color);\n\n    setTimeout(function () {\n      Utils.updateOpacity(that.el, that.data.opacity);\n\n      if (that.data.disabled) {\n        that.shadow.setAttribute('visible', false);\n        that.outline.setAttribute('color', '#C4C4C4');\n        that.icon.setAttribute('color', '#B0B0B0');\n      } else {\n        let timer = setInterval(function () {\n          if (that.icon.object3D.children[0] && that.icon.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n          }\n        }, 10)\n      }\n\n      if (that.data.type === \"flat\") {\n        that.shadow.setAttribute('visible', false);\n        let timer = setInterval(function () {\n          if (that.icon.object3D.children[0] && that.icon.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n            if (that.data.disabled) {\n              that.outline.setAttribute('color', '#C4C4C4');\n              that.icon.setAttribute('color', '#B0B0B0');\n            }\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-iconbutton', {\n  defaultComponents: {\n    iconbutton: {}\n  },\n  mappings: {\n    disabled: 'iconbutton.disabled',\n    type: 'iconbutton.type',\n    name: 'iconbutton.name',\n    value: 'iconbutton.value',\n    'button-color': 'iconbutton.buttonColor',\n    color: 'iconbutton.color',\n    font: 'iconbutton.font',\n    'letter-spacing': 'iconbutton.letterSpacing',\n    'line-height': 'iconbutton.lineHeight',\n    opacity: 'iconbutton.opacity',\n    width: 'iconbutton.width',\n    height: 'iconbutton.height',\n    'icon-scale': 'iconbutton.iconScale',\n    src: 'iconbutton.src'\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/icon-button/index.js","const Config = {\n  KEYBOARD_COLOR: \"#263238\",\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n  KEY_COLOR_ACTIVE: \"#404b50\",\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n  KEY_WIDTH: 0.08,\n  SPACE_KEY_WIDTH: 0.368,\n  SPACE_KEY_HEIGHT: 0.05,\n  ACTION_WIDTH: 0.140,\n}\n\nmodule.exports = Config;\n\n\n// WEBPACK FOOTER //\n// ./src/icon-button/config.js","module.exports = [{\n    type: 'img',\n    id: 'aframeButtonShadow',\n    src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeButtonIcon',\n    src: `${AFRAME.ASSETS_PATH}/images/CheckboxIcon.png`\n  },\n  {\n    type: 'audio',\n    id: 'aframeButtonClick',\n    src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`\n  },\n  {\n    type: 'audio',\n    id: 'aframeButtonClickDisabled',\n    src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`\n  }\n]\n\n\n// WEBPACK FOOTER //\n// ./src/icon-button/assets.js","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClick');\n    // el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    // el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function (parent) {\n    let el = parent.querySelector('[key=aframeButtonClickSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function (parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n// WEBPACK FOOTER //\n// ./src/icon-button/sfx.js","const Utils = require('../utils');\nconst Theme = require('../theme');\nconst Config = require('./config');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('circlebutton', {\n  schema: {\n    disabled: {\n      type: 'boolean',\n      default: false\n    },\n    type: {\n      type: \"string\",\n      default: \"raised\"\n    },\n    name: {\n      type: \"string\",\n      default: \"\"\n    },\n    value: {\n      type: \"string\",\n      default: \"Button\"\n    },\n    buttonColor: {\n      type: \"color\",\n      default: \"#4076fd\"\n    },\n    color: {\n      type: \"color\",\n      default: \"#FFF\"\n    },\n    font: {\n      type: \"string\",\n      default: \"\"\n    },\n    letterSpacing: {\n      type: \"int\",\n      default: 0\n    },\n    lineHeight: {\n      type: \"string\",\n      default: \"\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    radius: {\n      type: \"number\",\n      default: 0.08\n    },\n    iconScale: {\n      type: \"number\",\n      default: 0.75\n    },\n    src: {\n      type: \"string\",\n      default: \"#aframeButtonIcon\"\n    }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // WRAPPER\n    this.wrapper = document.createElement('a-entity');\n    this.wrapper.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.wrapper);\n\n    // SHADOW\n    this.shadow = document.createElement('a-image');\n    this.shadow.setAttribute('width', this.data.radius * 2 * 1.25);\n    this.shadow.setAttribute('height', this.data.radius * 2 * 1.25);\n    this.shadow.setAttribute('position', '0 0 -0.002');\n    this.shadow.setAttribute('src', '#aframeSwitchShadow');\n    this.wrapper.appendChild(this.shadow);\n\n    // OUTLINE\n    this.outline = document.createElement('a-circle');\n    this.outline.setAttribute('radius', this.data.radius);\n    this.outline.setAttribute('position', '0 0 0');\n    this.outline.setAttribute('shadow', 'cast', true);\n    this.wrapper.appendChild(this.outline);\n\n    // ICON\n    this.icon = document.createElement('a-image');\n    this.icon.setAttribute('width', this.data.radius * 2 * this.data.iconScale);\n    this.icon.setAttribute('height', this.data.radius * 2 * this.data.iconScale);\n    this.icon.setAttribute('position', '0 0 0.001')\n    this.icon.setAttribute('src', this.data.src);\n    this.wrapper.appendChild(this.icon);\n\n\n    // EVENTS\n    this.el.addEventListener('click', function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return;\n      }\n      // that.wrapper.appendChild(that.overlay);\n      that.onClick();\n    });\n    this.el.addEventListener('mouseenter', function () {\n      if (this.components.circlebutton && this.components.circlebutton.data.disabled) {\n        return;\n      }\n      Utils.updateOpacity(that.el, 0.92);\n    });\n    this.el.addEventListener('mouseleave', function () {\n      if (this.components.circlebutton && this.components.circlebutton.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      Utils.updateOpacity(that.el, 1);\n    });\n    this.el.addEventListener('mousedown', function () {\n      if (this.components.circlebutton && this.components.circlebutton.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      that.wrapper.setAttribute('position', `0 0 0.036`);\n      Utils.updateOpacity(that.el, 0.84);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function () {\n      if (this.components.circlebutton && this.components.circlebutton.data.disabled) {\n        return;\n      }\n      that.wrapper.setAttribute('position', `0 0 0`);\n      Utils.updateOpacity(that.el, 1);\n    });\n\n    this.el.getWidth = this.getWidth.bind(this);\n    Object.defineProperty(this.el, 'value', {\n      get: function () {\n        return this.getAttribute('value');\n      },\n      set: function (value) {\n        this.setAttribute('value', value);\n      },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function () {\n    //Event.emit(this.el, 'click');\n  },\n  getWidth: function () {\n    return this.__width;\n  },\n  update: function () {\n    var that = this;\n    this.outline.setAttribute('color', this.data.buttonColor);\n    this.icon.setAttribute('color', this.data.color);\n    // this.overlay.setAttribute('color', this.data.color);\n\n    setTimeout(function () {\n      Utils.updateOpacity(that.el, that.data.opacity);\n\n      if (that.data.disabled) {\n        that.shadow.setAttribute('visible', false);\n        that.outline.setAttribute('color', '#C4C4C4');\n        that.icon.setAttribute('color', '#B0B0B0');\n      } else {\n        let timer = setInterval(function () {\n          if (that.icon.object3D.children[0] && that.icon.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n          }\n        }, 10)\n      }\n\n      if (that.data.type === \"flat\") {\n        that.shadow.setAttribute('visible', false);\n        let timer = setInterval(function () {\n          if (that.icon.object3D.children[0] && that.icon.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 0);\n            if (that.data.disabled) {\n              that.outline.setAttribute('color', '#C4C4C4');\n              that.icon.setAttribute('text', 'color', '#B0B0B0');\n            }\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-circlebutton', {\n  defaultComponents: {\n    circlebutton: {}\n  },\n  mappings: {\n    disabled: 'circlebutton.disabled',\n    type: 'circlebutton.type',\n    name: 'circlebutton.name',\n    value: 'circlebutton.value',\n    'button-color': 'circlebutton.buttonColor',\n    color: 'circlebutton.color',\n    font: 'circlebutton.font',\n    'letter-spacing': 'circlebutton.letterSpacing',\n    'line-height': 'circlebutton.lineHeight',\n    opacity: 'circlebutton.opacity',\n    radius: 'circlebutton.radius',\n    'icon-scale': 'circlebutton.iconScale',\n    src: 'circlebutton.src'\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/circle-button/index.js","const Config = {\n  KEYBOARD_COLOR: \"#263238\",\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n  KEY_COLOR_ACTIVE: \"#404b50\",\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n  KEY_WIDTH: 0.08,\n  SPACE_KEY_WIDTH: 0.368,\n  SPACE_KEY_HEIGHT: 0.05,\n  ACTION_WIDTH: 0.140,\n}\n\nmodule.exports = Config;\n\n\n// WEBPACK FOOTER //\n// ./src/circle-button/config.js","module.exports = [{\n    type: 'img',\n    id: 'aframeButtonShadow',\n    src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeSwitchShadow',\n    src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png`\n  },\n  {\n    type: 'img',\n    id: 'aframeButtonIcon',\n    src: `${AFRAME.ASSETS_PATH}/images/CheckboxIcon.png`\n  },\n  {\n    type: 'audio',\n    id: 'aframeButtonClick',\n    src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`\n  },\n  {\n    type: 'audio',\n    id: 'aframeButtonClickDisabled',\n    src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`\n  }\n]\n\n\n// WEBPACK FOOTER //\n// ./src/circle-button/assets.js","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClick');\n    // el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    // el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function (parent) {\n    let el = parent.querySelector('[key=aframeButtonClickSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function (parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) {\n      return;\n    }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n// WEBPACK FOOTER //\n// ./src/circle-button/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('toast', {\n  schema: {\n    message: {\n      type: 'string',\n      default: \"You are cool\"\n    },\n    action: {\n      type: 'string',\n      default: \"\"\n    },\n    backgroundColor: {\n      type: \"color\",\n      default: \"#222\"\n    }, //242f35\n    actionColor: {\n      type: \"color\",\n      default: \"#4076fd\"\n    },\n    color: {\n      type: \"color\",\n      default: \"#FFF\"\n    },\n    font: {\n      type: \"string\",\n      default: \"\"\n    },\n    letterSpacing: {\n      type: \"int\",\n      default: 0\n    },\n    lineHeight: {\n      type: \"string\",\n      default: \"\"\n    },\n    width: {\n      type: \"number\",\n      default: 3\n    },\n    duration: {\n      type: 'number',\n      default: 2000\n    },\n    autoshow: {\n      type: 'boolean',\n      default: true\n    }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // CONFIG\n    this.el.setAttribute(\"position\", `10000 10000 10000`);\n    this.el.setAttribute(\"rotation\", \"-25 0 0\");\n    this.el.setAttribute(\"scale\", \"0.3 0.3 0.3\");\n\n    // OUTLINE\n    this.background = document.createElement('a-rounded');\n    this.background.setAttribute('height', 0.44);\n    this.background.setAttribute('radius', 0.03);\n    this.background.setAttribute('position', `0 -${0.36/2} 0.001`);\n    this.el.appendChild(this.background);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // LABEL\n    this.action = document.createElement('a-button');\n    this.el.appendChild(this.action);\n\n    function changeWidth(e) {\n      let attr = that.label.getAttribute('text');\n      attr.width = that.data.width - e.detail;\n      attr.wrapCount = 10 * attr.width;\n      that.label.setAttribute('text', attr);\n      that.label.setAttribute('position', attr.width / 2 + 0.14 + ' 0.04 0.001');\n\n      this.setAttribute('position', `${that.data.width-e.detail} ${(0.44-0.36)/2} 0.001`)\n    }\n    this.action.addEventListener('change:width', changeWidth);\n    this.action.addEventListener('click', function () {\n      Event.emit(that.el, 'actionclick');\n    });\n\n    let timer = setInterval(function () {\n      if (that.action.object3D && that.action.object3D.children[0]) {\n        clearInterval(timer);\n        Utils.updateOpacity(that.el, 0);\n        Utils.updateOpacity(that.label, 0);\n        Utils.updateOpacity(that.action, 0);\n        if (that.data.autoshow) {\n          that.show();\n        }\n      }\n    }, 10);\n\n    // METHDOS\n    this.el.show = this.show.bind(this);\n    this.el.hide = this.hide.bind(this);\n  },\n  show: function () {\n    if (this.hideTimer) {\n      clearTimeout(this.hideTimer);\n    }\n    this.el.setAttribute(\"position\", `${-this.data.width/(2/this.el.object3D.scale.x)} 0.25 -1.6`);\n    let that = this;\n    /*if (!this.el.parentNode && this.el._parentNode) {\n      this.el._parentNode.appendChild(this.el);\n    }*/\n    setTimeout(function () {\n      that.el.setAttribute('fadein', {\n        duration: 160\n      });\n      setTimeout(function () {\n        Utils.updateOpacity(that.label, 1);\n        that.action.components.button.shadow.setAttribute('visible', false);\n      }, 10)\n    }, 0)\n    this.hideTimer = setTimeout(function () {\n      that.hide();\n    }, this.data.duration);\n\n    SFX.show(this.el);\n  },\n  hide: function () {\n    let that = this;\n    setTimeout(function () {\n      Utils.updateOpacity(that.label, 0);\n      that.action.components.button.shadow.setAttribute('visible', false);\n      setTimeout(function () {\n        that.el.setAttribute('fadeout', {\n          duration: 160\n        });\n        setTimeout(function () {\n          /*if (that.el.parentNode) {\n            that.el._parentNode = that.el.parentNode;\n            that.el.parentNode.removeChild(that.el);\n          }*/\n          that.el.setAttribute(\"position\", `10000 10000 10000`);\n        }, 200);\n      }, 10)\n    }, 0);\n  },\n  update: function () {\n    var that = this;\n\n    // BACKGROUND\n    this.background.setAttribute('color', this.data.backgroundColor);\n    this.background.setAttribute('width', this.data.width);\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10 * this.data.width,\n      width: this.data.width,\n      lineHeight: 64\n    }\n    if (this.data.font) {\n      props.font = this.data.font;\n    }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // MESSAGE\n    props.value = this.data.message\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width / 2 + 0.14 + ' 0 0.001');\n\n    // ACTION\n    this.action.setAttribute('value', this.data.action.toUpperCase());\n    this.action.setAttribute('button-color', this.data.backgroundColor);\n    this.action.setAttribute('color', this.data.actionColor);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-toast', {\n  defaultComponents: {\n    toast: {}\n  },\n  mappings: {\n    message: 'toast.message',\n    action: 'toast.action',\n    'action-color': 'toast.actionColor',\n    'background-color': 'toast.backgroundColor',\n    color: 'toast.color',\n    font: 'toast.font',\n    'letter-spacing': 'toast.letterSpacing',\n    'line-height': 'toast.lineHeight',\n    'width': 'toast.width',\n    'duration': 'toast.duration',\n    'autoshow': 'toast.autoshow'\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/toast/index.js","module.exports = [\n  { type: 'audio', id: 'aframeToastShow', src: `${AFRAME.ASSETS_PATH}/sounds/ToastShow.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/assets.js","const SFX = {\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeToastShowSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeToastShow');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  show: function(parent) {\n    let el = parent.querySelector('[key=aframeToastShowSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\n\nAFRAME.registerComponent('card', {\n  schema: {\n    width: {\n      type: \"number\",\n      default: 1\n    },\n    height: {\n      type: \"number\",\n      default: 1\n    },\n    color: {\n      type: \"color\",\n      default: \"#FFF\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    shift: {\n      type: \"boolean\",\n      default: true\n    },\n    type: {\n      type: \"string\",\n      default: \"flat\"\n    }\n  },\n  init: function () {\n    Utils.preloadAssets(Assets);\n\n    this.card = document.createElement('a-rounded');\n    this.card.setAttribute('height', this.data.height);\n    this.card.setAttribute('width', this.data.width);\n    this.card.setAttribute('radius', this.data.height * 0.0125);\n\n    this.shadow = document.createElement('a-image');\n    this.shadow.setAttribute('height', this.data.height * 1.25);\n    this.shadow.setAttribute('width', this.data.width * 1.25)\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\n\n    if (this.data.shift) {\n      this.card.setAttribute('position', `0 0 -0.001`);\n      this.shadow.setAttribute('position', `${this.data.width/2} ${this.data.height/2} -0.002`);\n    } else {\n      this.card.setAttribute('position', `${-this.data.width/2} ${-this.data.height/2} -0.001`);\n      this.shadow.setAttribute('position', `0 0 -0.002`);\n    }\n    this.el.append(this.card);\n    this.el.append(this.shadow);\n\n  },\n  update: function () {\n    if (this.data.type === \"flat\") {\n      this.shadow.setAttribute('visible', false);\n    }\n    this.card.setAttribute('color', this.data.color);\n    Utils.updateOpacity(this.el, this.data.opacity);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-card', {\n  defaultComponents: {\n    card: {}\n  },\n  mappings: {\n    width: \"card.width\",\n    height: \"card.height\",\n    color: \"card.color\",\n    opacity: \"card.opacity\"\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/card/index.js","module.exports = [{\n  type: 'img',\n  id: 'aframeButtonShadow',\n  src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`\n}]\n\n\n// WEBPACK FOOTER //\n// ./src/card/assets.js"],"sourceRoot":""}